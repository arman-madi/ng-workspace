{"version":3,"file":"scroll-here.js","sources":["ng://scroll-here/lib/scroll-here.component.ts","ng://scroll-here/lib/scroll-here.module.ts"],"sourcesContent":["import { Component, ElementRef, AfterViewChecked, Input } from '@angular/core';\n\n@Component({\n  selector: 'ar-scroll-here',\n  template: '<ng-content></ng-content>',\n})\nexport class ScrollHereComponent implements AfterViewChecked {\n\n  /**\n   * Determine which parent should scrolle, if not given it will be detected automatically\n   */\n  @Input() scrollableParent: HTMLElement;\n  \n  /**\n   * offset the scroll after scrolling into the middle of the container view, default is 0\n   */\n  @Input() offset: number = 0;\n\n  private isScrolled = false;\n\n  constructor(private el: ElementRef) { }\n\n  ngAfterViewChecked(): void {\n    if (!this.el.nativeElement.isConnected){\n      this.isScrolled = false;\n    \n    } else if(this.isScrolled === false) {\n\n      let scrollableParent: HTMLElement = this.scrollableParent;\n      if(!scrollableParent) {\n        scrollableParent = this.el.nativeElement.parentElement;\n        const overflowRegex = /(auto|scroll|hidden)/;\n        \n        while(scrollableParent && scrollableParent instanceof HTMLElement) {\n          let overflowValues =  \n            window.getComputedStyle(scrollableParent).overflow + \n            window.getComputedStyle(scrollableParent).overflowY //+ \n            // window.getComputedStyle(scrollableParent).overflowX;\n          if(scrollableParent.scrollHeight > scrollableParent.clientHeight &&\n            overflowRegex.test(overflowValues)) {\n            break;\n          }\n          scrollableParent = scrollableParent.parentElement\n        }\n\n        if(!scrollableParent || !(scrollableParent instanceof HTMLElement)) {\n          // Could not find a scrollable parent so leave it to the browser\n          this.el.nativeElement.scrollIntoView({behavior: \"smooth\", block: \"center\", inline: \"center\"});\n          return;\n        }\n      }\n      if(scrollableParent && scrollableParent.scrollHeight > scrollableParent.clientHeight) {\n        var parentTop = scrollableParent.getBoundingClientRect().top; \n        var childTop = this.el.nativeElement.getBoundingClientRect().top; \n        var childParentOffset = Math.abs(parentTop - childTop)\n        scrollableParent.scrollTop = childParentOffset - Math.abs(scrollableParent.offsetHeight / 2) + parseInt(this.offset+'');\n        this.isScrolled = true;\n      }\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { ScrollHereComponent } from './scroll-here.component';\n\n\n\n@NgModule({\n  declarations: [ScrollHereComponent],\n  imports: [\n  ],\n  exports: [ScrollHereComponent]\n})\nexport class ScrollHereModule { }\n"],"names":[],"mappings":";;;;;;;AAAA;IAoBE,6BAAoB,EAAc;QAAd,OAAE,GAAF,EAAE,CAAY;;;;QAJzB,WAAM,GAAW,CAAC,CAAC;QAEpB,eAAU,GAAG,KAAK,CAAC;KAEY;;;;IAEvC,gDAAkB;;;IAAlB;QACE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,EAAC;YACrC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAEzB;aAAM,IAAG,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;;gBAE/B,gBAAgB,GAAgB,IAAI,CAAC,gBAAgB;YACzD,IAAG,CAAC,gBAAgB,EAAE;gBACpB,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC;;oBACjD,aAAa,GAAG,sBAAsB;gBAE5C,OAAM,gBAAgB,IAAI,gBAAgB,YAAY,WAAW,EAAE;;wBAC7D,cAAc,GAChB,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,QAAQ;wBAClD,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,SAAS;;;;oBAErD,IAAG,gBAAgB,CAAC,YAAY,GAAG,gBAAgB,CAAC,YAAY;wBAC9D,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;wBACpC,MAAM;qBACP;oBACD,gBAAgB,GAAG,gBAAgB,CAAC,aAAa,CAAA;iBAClD;gBAED,IAAG,CAAC,gBAAgB,IAAI,EAAE,gBAAgB,YAAY,WAAW,CAAC,EAAE;;oBAElE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,cAAc,CAAC,EAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAC,CAAC,CAAC;oBAC9F,OAAO;iBACR;aACF;YACD,IAAG,gBAAgB,IAAI,gBAAgB,CAAC,YAAY,GAAG,gBAAgB,CAAC,YAAY,EAAE;;oBAChF,SAAS,GAAG,gBAAgB,CAAC,qBAAqB,EAAE,CAAC,GAAG;;oBACxD,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG;;oBAC5D,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC;gBACtD,gBAAgB,CAAC,SAAS,GAAG,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,YAAY,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC,CAAC;gBACxH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aACxB;SACF;KACF;;gBAzDF,SAAS,SAAC;oBACT,QAAQ,EAAE,gBAAgB;oBAC1B,QAAQ,EAAE,2BAA2B;iBACtC;;;;gBALmB,UAAU;;;mCAW3B,KAAK;yBAKL,KAAK;;IA6CR,0BAAC;CA3DD,IA2DC;;;;;;IAlDC,+CAAuC;;;;;IAKvC,qCAA4B;;;;;IAE5B,yCAA2B;;;;;IAEf,iCAAsB;;;;;;;;ACpBpC;IAKA;KAMiC;;gBANhC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,mBAAmB,CAAC;oBACnC,OAAO,EAAE,EACR;oBACD,OAAO,EAAE,CAAC,mBAAmB,CAAC;iBAC/B;;IAC+B,uBAAC;CANjC;;;;;;;;;;;;;;;;"}