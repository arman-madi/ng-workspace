{"version":3,"file":"scroll-here.umd.js","sources":["ng://scroll-here/lib/scroll-here.component.ts","ng://scroll-here/lib/scroll-here.module.ts"],"sourcesContent":["import { Component, ElementRef, AfterViewChecked, Input } from '@angular/core';\n\n@Component({\n  selector: 'ar-scroll-here',\n  template: '<ng-content></ng-content>',\n})\nexport class ScrollHereComponent implements AfterViewChecked {\n\n  /**\n   * Determine which parent should scrolle, if not given it will be detected automatically\n   */\n  @Input() scrollableParent: HTMLElement;\n  \n  /**\n   * offset the scroll after scrolling into the middle of the container view, default is 0\n   */\n  @Input() offset: number = 0;\n\n  private isScrolled = false;\n\n  constructor(private el: ElementRef) { }\n\n  ngAfterViewChecked(): void {\n    if (!this.el.nativeElement.isConnected){\n      this.isScrolled = false;\n    \n    } else if(this.isScrolled === false) {\n\n      let scrollableParent: HTMLElement = this.scrollableParent;\n      if(!scrollableParent) {\n        scrollableParent = this.el.nativeElement.parentElement;\n        const overflowRegex = /(auto|scroll|hidden)/;\n        \n        while(scrollableParent && scrollableParent instanceof HTMLElement) {\n          let overflowValues =  \n            window.getComputedStyle(scrollableParent).overflow + \n            window.getComputedStyle(scrollableParent).overflowY //+ \n            // window.getComputedStyle(scrollableParent).overflowX;\n          if(scrollableParent.scrollHeight > scrollableParent.clientHeight &&\n            overflowRegex.test(overflowValues)) {\n            break;\n          }\n          scrollableParent = scrollableParent.parentElement\n        }\n\n        if(!scrollableParent || !(scrollableParent instanceof HTMLElement)) {\n          // Could not find a scrollable parent so leave it to the browser\n          this.el.nativeElement.scrollIntoView({behavior: \"smooth\", block: \"center\", inline: \"center\"});\n          return;\n        }\n      }\n      if(scrollableParent && scrollableParent.scrollHeight > scrollableParent.clientHeight) {\n        var parentTop = scrollableParent.getBoundingClientRect().top; \n        var childTop = this.el.nativeElement.getBoundingClientRect().top; \n        var childParentOffset = Math.abs(parentTop - childTop)\n        scrollableParent.scrollTop = childParentOffset - Math.abs(scrollableParent.offsetHeight / 2) + parseInt(this.offset+'');\n        this.isScrolled = true;\n      }\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { ScrollHereComponent } from './scroll-here.component';\n\n\n\n@NgModule({\n  declarations: [ScrollHereComponent],\n  imports: [\n  ],\n  exports: [ScrollHereComponent]\n})\nexport class ScrollHereModule { }\n"],"names":["Component","ElementRef","Input","NgModule"],"mappings":";;;;;;;;;;;AAAA;QAoBE,6BAAoB,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;;;;YAJzB,WAAM,GAAW,CAAC,CAAC;YAEpB,eAAU,GAAG,KAAK,CAAC;SAEY;;;;QAEvC,gDAAkB;;;QAAlB;YACE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,EAAC;gBACrC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aAEzB;iBAAM,IAAG,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;;oBAE/B,gBAAgB,GAAgB,IAAI,CAAC,gBAAgB;gBACzD,IAAG,CAAC,gBAAgB,EAAE;oBACpB,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC;;wBACjD,aAAa,GAAG,sBAAsB;oBAE5C,OAAM,gBAAgB,IAAI,gBAAgB,YAAY,WAAW,EAAE;;4BAC7D,cAAc,GAChB,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,QAAQ;4BAClD,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,CAAC,SAAS;;;;wBAErD,IAAG,gBAAgB,CAAC,YAAY,GAAG,gBAAgB,CAAC,YAAY;4BAC9D,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;4BACpC,MAAM;yBACP;wBACD,gBAAgB,GAAG,gBAAgB,CAAC,aAAa,CAAA;qBAClD;oBAED,IAAG,CAAC,gBAAgB,IAAI,EAAE,gBAAgB,YAAY,WAAW,CAAC,EAAE;;wBAElE,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,cAAc,CAAC,EAAC,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAC,CAAC,CAAC;wBAC9F,OAAO;qBACR;iBACF;gBACD,IAAG,gBAAgB,IAAI,gBAAgB,CAAC,YAAY,GAAG,gBAAgB,CAAC,YAAY,EAAE;;wBAChF,SAAS,GAAG,gBAAgB,CAAC,qBAAqB,EAAE,CAAC,GAAG;;wBACxD,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG;;wBAC5D,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,QAAQ,CAAC;oBACtD,gBAAgB,CAAC,SAAS,GAAG,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,YAAY,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC,CAAC;oBACxH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;iBACxB;aACF;SACF;;oBAzDFA,cAAS,SAAC;wBACT,QAAQ,EAAE,gBAAgB;wBAC1B,QAAQ,EAAE,2BAA2B;qBACtC;;;;oBALmBC,eAAU;;;uCAW3BC,UAAK;6BAKLA,UAAK;;QA6CR,0BAAC;KA3DD,IA2DC;;;;;;QAlDC,+CAAuC;;;;;QAKvC,qCAA4B;;;;;QAE5B,yCAA2B;;;;;QAEf,iCAAsB;;;;;;;;ACpBpC;QAKA;SAMiC;;oBANhCC,aAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,mBAAmB,CAAC;wBACnC,OAAO,EAAE,EACR;wBACD,OAAO,EAAE,CAAC,mBAAmB,CAAC;qBAC/B;;QAC+B,uBAAC;KANjC;;;;;;;;;;;;;"}